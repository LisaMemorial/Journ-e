<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Journée LISA — Hommage au Pr. Mohamed Alfidi</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      --gold: #facc15;
      --glass-bg: rgba(255,255,255,0.06);
      --glass-border: rgba(255,255,255,0.08);
    }

    html,body { height:100%; }
    body {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));
      color: #0f172a;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      min-height:100vh;
    }

    .text-gold { color: var(--gold); }

    /* Banner */
    .hero {
      background-image: linear-gradient(180deg, rgba(12,18,28,0.55), rgba(12,18,28,0.55)), url('Ensa-photo.jpeg');
      background-size: cover;
      background-position: center;
      position: relative;
      color: white;
    }

    .glass {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      backdrop-filter: blur(8px) saturate(120%);
      -webkit-backdrop-filter: blur(8px) saturate(120%);
      border-radius: 14px;
    }

    .nav-underline {
      height: 3px;
      background: linear-gradient(90deg, var(--gold), rgba(250,200,21,0.9));
      border-radius: 999px;
      transition: transform .35s cubic-bezier(.2,.9,.2,1), width .35s;
      transform-origin: left center;
    }

    .fade-enter { opacity: 0; transform: translateY(12px); transition: all .5s ease; }
    .fade-enter.show { opacity:1; transform: translateY(0); }
    .poster-card:hover { transform: translateY(-8px) scale(1.01); box-shadow: 0 20px 40px rgba(2,6,23,0.45); }

    .modal-backdrop {
      background: linear-gradient(180deg, rgba(2,6,23,0.6), rgba(2,6,23,0.85));
    }

    .particle {
      position:absolute;
      width:6px; height:6px;
      border-radius:999px;
      box-shadow: 0 0 12px rgba(250,200,21,0.9);
      background: rgba(250,200,21,0.95);
      opacity:0.9;
      pointer-events:none;
      transform: translate3d(0,0,0);
    }

    .logo-badge {
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      border-radius: 10px;
      padding:6px 10px;
      border: 1px solid rgba(255,255,255,0.08);
    }
  </style>
</head>
<body class="antialiased">

  <!-- Floating particles container -->
  <div id="particles" class="pointer-events-none relative z-0"></div>

  <!-- Header -->
  <header class="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 w-[min(1100px,92%)]">
    <div class="flex items-center justify-between glass px-4 py-2">
      <div class="flex items-center gap-3">
        <!-- Replace sidi-mohammed-logo.webp with the real logo file -->
        <img src="sidi-mohammed-logo.webp" alt="Université" class="w-10 h-10 object-contain rounded-md shadow-sm" />
        <div>
          <div class="text-sm font-semibold text-white">Laboratoire LISA — ENSA Fès</div>
          <div class="text-xs text-white/80">Journée de recherche — Hommage au Pr. Mohamed Alfidi</div>
        </div>
      </div>

      <!-- Navigation (desktop) -->
      <nav id="main-nav" class="hidden md:flex items-center gap-6 relative">
        <button class="nav-item text-white/90 font-medium px-2 py-2" data-target="about">À propos</button>
        <button class="nav-item text-white/90 font-medium px-2 py-2" data-target="programme">Programme</button>
        <button class="nav-item text-white/90 font-medium px-2 py-2" data-target="intervenants">Intervenants</button>
        <button class="nav-item text-white/90 font-medium px-2 py-2" data-target="comites">Comités</button>
        <button class="nav-item text-white/90 font-medium px-2 py-2" data-target="appel">Appels</button>
        <button class="nav-item text-white/90 font-medium px-2 py-2" data-target="infos">Infos pratiques</button>
        <button class="nav-item text-white/90 font-medium px-2 py-2" data-target="inscription">Inscription</button>
        <button class="nav-item text-white/90 font-medium px-2 py-2" data-target="contact">Contact</button>

        <div id="nav-underline" class="nav-underline absolute bottom-0 left-0" style="width:0;"></div>
      </nav>

      <!-- Mobile actions -->
      <div class="md:hidden flex items-center gap-2">
        <a href="#inscription" class="hidden sm:inline-flex bg-indigo-600 text-white px-3 py-2 rounded-md font-semibold">S'inscrire</a>
        <button id="hamburger" aria-label="Ouvrir le menu" class="p-2 rounded-md glass">
          <svg id="hamburger-icon" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M4 6h16M4 12h16M4 18h16" stroke="#fff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile menu panel -->
    <div id="mobile-panel" class="hidden mt-2 glass p-3">
      <div class="flex flex-col gap-2">
        <button class="nav-item-mobile text-white text-left" data-target="about">À propos</button>
        <button class="nav-item-mobile text-white text-left" data-target="programme">Programme</button>
        <button class="nav-item-mobile text-white text-left" data-target="intervenants">Intervenants</button>
        <button class="nav-item-mobile text-white text-left" data-target="comites">Comités</button>
        <button class="nav-item-mobile text-white text-left" data-target="appel">Appels</button>
        <button class="nav-item-mobile text-white text-left" data-target="infos">Infos pratiques</button>
        <button class="nav-item-mobile text-white text-left" data-target="inscription">Inscription</button>
        <button class="nav-item-mobile text-white text-left" data-target="contact">Contact</button>
        <a href="#inscription" class="mt-2 inline-block text-center bg-indigo-600 text-white px-4 py-2 rounded-md font-semibold">S'inscrire</a>
      </div>
    </div>
  </header>

  <!-- HERO / Banner -->
  <section id="about" class="hero min-h-[56vh] pt-28 pb-20 flex items-center z-10 relative" aria-label="Bannière">
    <div class="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent pointer-events-none"></div>

    <div class="w-[min(1100px,92%)] mx-auto relative z-20">
      <div class="grid lg:grid-cols-2 gap-8 items-center">
        <div class="space-y-6">
          <div class="logo-badge inline-flex items-center gap-3">
            <img src="sidi-mohammed-logo.webp" alt="Logo Université" class="w-8 h-8 object-contain" />
            <div class="text-xs text-white/85 font-medium">Université Sidi Mohammed — ENSA Fès</div>
          </div>

          <h1 class="text-4xl md:text-5xl font-extrabold leading-tight text-white drop-shadow-lg">
            Journée de recherche en hommage <br class="hidden md:block" />
            au <span class="text-gold">Pr. Mohamed Alfidi</span>
          </h1>

          <p class="text-white/85 max-w-xl text-base">
            Une journée dédiée à la mémoire d’un enseignant-chercheur engagé — discours, hommage, présentation de posters scientifiques
            par les doctorants et échanges autour des travaux qui continuent d’inspirer notre laboratoire.
          </p>

          <div class="flex gap-3 items-center">
            <a class="glass inline-flex items-center gap-3 px-4 py-2 rounded-lg hover:scale-[1.02] transition shadow" href="#programme" data-target="programme">
              Voir le programme
            </a>

            <button id="open-posters" class="bg-white text-black px-4 py-2 rounded-lg font-semibold hover:brightness-95 transition shadow">
              Voir les posters
            </button>
          </div>
        </div>

        <!-- vertical glass card with logo/photo -->
        <div class="glass p-5 rounded-2xl border border-white/8 shadow-xl">
          <div class="relative overflow-hidden rounded-xl">
            <!-- Replace Ensa-photo.jpeg with a high-res banner -->
            <img src="Ensa-photo.jpeg" alt="ENSA Photo" class="w-full object-cover h-56 md:h-72 transform transition duration-700 hover:scale-[1.03]" />
            <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"></div>
            <div class="absolute bottom-4 left-4 text-white">
              <div class="text-sm font-semibold">ENSA Fès</div>
              <div class="text-xs text-white/80">École Nationale des Sciences Appliquées</div>
            </div>
          </div>

          <div class="mt-4 text-white/90">
            <h3 class="font-semibold text-lg">Une journée pour se souvenir et partager</h3>
            <p class="text-sm text-white/80 mt-2">
              Après-midi : exposition des posters et résumés par les doctorants. Moments d’échange et réflexion autour de son héritage scientifique.
            </p>
            <div class="mt-4 flex gap-2">
              <button class="px-3 py-2 rounded-md text-sm glass" data-target="programme">Programme</button>
              <button class="px-3 py-2 rounded-md text-sm glass" data-target="contact">Contact</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Main content -->
  <main class="w-[min(1100px,92%)] mx-auto -mt-10 relative z-20 space-y-12 pb-20">

    <!-- HOMMAGE -->
    <section id="hommage" class="fade-enter glass p-8" aria-labelledby="hommage-title">
      <h2 id="hommage-title" class="text-2xl font-bold text-slate-900">Hommage</h2>
      <div class="flex flex-col lg:flex-row gap-8 mt-4">
        <div class="flex-1">
          <p class="mt-3 text-slate-700">
            Nous rendons hommage au Pr. Mohamed Alfidi, professeur-chercheur fondateur du laboratoire LISA,
            pour sa contribution à la recherche et la formation de plusieurs générations d’ingénieurs et doctorants.
          </p>
          <blockquote class="mt-6 border-l-4 border-gold pl-4 italic text-slate-700">
            « Sa passion pour la science et l’éducation continue d’inspirer nos travaux. »
          </blockquote>
        </div>

        <div class="w-full lg:w-96 glass p-4">
          <h3 class="font-semibold text-slate-900">Citation & mémoire</h3>
          <p class="mt-2 text-slate-700 text-sm">
            Si vous souhaitez partager un souvenir, vous pouvez l’envoyer à <strong>lisa.contact@usmba.ac.ma</strong>.
          </p>
        </div>
      </div>
    </section>

    <!-- PROGRAMME (intégré depuis le document fourni) -->
    <section id="programme" class="fade-enter glass p-8" aria-labelledby="programme-title">
      <h2 id="programme-title" class="text-2xl font-bold text-slate-900">Programme</h2>

      <!-- Programme details: integrated from your uploaded doc -->
      <div class="mt-6 grid md:grid-cols-2 gap-6">
        <div class="glass p-5">
          <h4 class="font-semibold text-slate-900">08h30 – 12h30</h4>
          <ul class="mt-3 text-slate-700 list-disc list-inside space-y-2">
            <li>08h30 – 09h00 : Accueil et inscription des participants (remise des badges)</li>
            <li>09h00 – 09h45 : Cérémonie d'ouverture (allocutions officielles et mot de la famille)</li>
            <li>09h45 – 10h30 : Session plénière – Héritage scientifique et humain (parcours et témoignages)</li>
            <li>10h30 – 11h00 : Pause café & networking</li>
            <li>11h00 – 12h30 : Session scientifique – présentations orales des doctorants (posters)</li>
          </ul>
        </div>

        <div class="glass p-5">
          <h4 class="font-semibold text-slate-900">12h30 – 17h00</h4>
          <ul class="mt-3 text-slate-700 list-disc list-inside space-y-2">
            <li>12h30 – 14h30 : Déjeuner convivial</li>
            <li>14h30 – 16h00 : Exposition des résumés doctoraux (présentations du LISA)</li>
            <li>16h00 – 16h30 : Séance d'hommage et remise des distinctions (projection et remise plaque)</li>
            <li>16h30 – 17h00 : Clôture & cocktail d'honneur</li>
          </ul>
        </div>
      </div>

      <p class="mt-4 text-sm text-slate-700">
        (Programme intégré depuis le fichier de la journée d'hommage fourni.)
      </p>
    </section>

    <!-- POSTERS -->
    <section id="posters" class="fade-enter glass p-8" aria-labelledby="posters-title">
      <div class="flex items-center justify-between">
        <h2 id="posters-title" class="text-2xl font-bold text-slate-900">Exposition — Posters & Résumés</h2>
        <div class="text-sm text-slate-700">Cliquez sur un poster pour voir le résumé complet</div>
      </div>

      <div class="mt-6 grid md:grid-cols-3 gap-6">
        <!-- Poster A -->
        <article class="poster-card glass p-4 transform transition-all duration-300" tabindex="0" role="button"
                 data-title="Optimisation énergétique" data-author="A. El Ouardi (Doctorant)"
                 data-abstract="Étude sur la réduction de la consommation d'une installation industrielle par méthodes hybrides...">
          <div class="h-40 rounded-lg bg-gradient-to-tr from-slate-800 to-slate-700 overflow-hidden flex items-end p-4">
            <div>
              <h3 class="text-white font-semibold">Optimisation énergétique</h3>
              <p class="text-white/70 text-sm mt-1">A. El Ouardi</p>
            </div>
          </div>
          <p class="mt-3 text-slate-700 text-sm line-clamp-3">Étude sur la réduction de la consommation d'une installation industrielle par méthodes hybrides...</p>
          <div class="mt-3 flex gap-2">
            <button class="px-3 py-1 rounded-md text-sm bg-white text-black" data-action="open">Lire</button>
            <button class="px-3 py-1 rounded-md text-sm glass">Partager</button>
          </div>
        </article>

        <!-- Poster B -->
        <article class="poster-card glass p-4 transform transition-all duration-300" tabindex="0" role="button"
                 data-title="Stockage d'énergie" data-author="M. Benjelloun"
                 data-abstract="Analyse des stratégies de gestion de batterie Li-ion pour véhicules électriques...">
          <div class="h-40 rounded-lg bg-gradient-to-tr from-slate-800 to-slate-700 overflow-hidden flex items-end p-4">
            <div>
              <h3 class="text-white font-semibold">Stockage d'énergie</h3>
              <p class="text-white/70 text-sm mt-1">M. Benjelloun</p>
            </div>
          </div>
          <p class="mt-3 text-slate-700 text-sm line-clamp-3">Analyse des stratégies de gestion de batterie Li-ion pour véhicules électriques...</p>
          <div class="mt-3 flex gap-2">
            <button class="px-3 py-1 rounded-md text-sm bg-white text-black" data-action="open">Lire</button>
            <button class="px-3 py-1 rounded-md text-sm glass">Partager</button>
          </div>
        </article>

        <!-- Poster C -->
        <article class="poster-card glass p-4 transform transition-all duration-300" tabindex="0" role="button"
                 data-title="IA pour l'énergie" data-author="S. El Amrani"
                 data-abstract="Utilisation de réseaux de neurones pour prédire l'état de charge et optimiser la gestion...">
          <div class="h-40 rounded-lg bg-gradient-to-tr from-slate-800 to-slate-700 overflow-hidden flex items-end p-4">
            <div>
              <h3 class="text-white font-semibold">IA pour l'énergie</h3>
              <p class="text-white/70 text-sm mt-1">S. El Amrani</p>
            </div>
          </div>
          <p class="mt-3 text-slate-700 text-sm line-clamp-3">Utilisation de réseaux de neurones pour prédire l'état de charge et optimiser la gestion...</p>
          <div class="mt-3 flex gap-2">
            <button class="px-3 py-1 rounded-md text-sm bg-white text-black" data-action="open">Lire</button>
            <button class="px-3 py-1 rounded-md text-sm glass">Partager</button>
          </div>
        </article>
      </div>
    </section>

    <!-- INTERVENANTS -->
    <section id="intervenants" class="fade-enter glass p-8" aria-labelledby="intervenants-title">
      <h2 id="intervenants-title" class="text-2xl font-bold text-slate-900">Intervenants</h2>
      <p class="mt-3 text-slate-700">Quelques intervenants confirmés — cliquez pour voir le profil / Google Scholar.</p>

      <div class="mt-6 grid md:grid-cols-3 gap-6">
        <!-- Example card: Pr. Zakaria CHALH -->
        <div class="glass p-4">
          <!-- Replace alfidi.jpg with the professor photo filename you will add -->
          <img src="alfidi.jpg" alt="Pr. Zakaria CHALH" class="w-24 h-24 object-cover rounded-full shadow-sm" />
          <h4 class="font-semibold mt-3">Pr. Zakaria CHALH</h4>
          <p class="text-sm text-slate-700">Professeur — ENSA Fès</p>
          <div class="mt-3 flex gap-2">
            <a href="https://scholar.google.com/citations?user=LLft2LYAAAAJ&hl=fr" target="_blank" rel="noopener" class="text-sm underline">Google Scholar</a>
            <!-- add more links (CV / présentation) if available -->
          </div>
        </div>

        <!-- Placeholder cards: duplicate and edit for other intervenants -->
        <div class="glass p-4">
          <img src="prof-placeholder.jpg" alt="Intervenant" class="w-24 h-24 object-cover rounded-full shadow-sm" />
          <h4 class="font-semibold mt-3">Pr. Nabil EL AKCHIOUI</h4>
          <p class="text-sm text-slate-700">Professeur — ENSA Fès</p>
        </div>

        <div class="glass p-4">
          <img src="prof-placeholder.jpg" alt="Intervenant" class="w-24 h-24 object-cover rounded-full shadow-sm" />
          <h4 class="font-semibold mt-3">Pr. Mohamed BENDAOUD</h4>
          <p class="text-sm text-slate-700">Professeur — ENSA Fès</p>
        </div>
      </div>
    </section>

    <!-- COMITÉS -->
    <section id="comites" class="fade-enter glass p-8" aria-labelledby="comites-title">
      <h2 id="comites-title" class="text-2xl font-bold text-slate-900">Comités de la journée</h2>

      <div class="mt-4 grid md:grid-cols-2 gap-6">
        <div class="glass p-4">
          <h4 class="font-semibold">Comité scientifique</h4>
          <ul class="mt-2 text-slate-700 list-disc list-inside space-y-1">
            <li>Pr. Zakaria CHALH</li>
            <li>Pr. Nabil EL AKCHIOUI</li>
            <li>Pr. Mohamed BENDAOUD</li>
            <li>Pr. El Mehdi MELLOULI</li>
            <li>Pr. Touria HAIDI</li>
            <li>Pr. Amine EL FATHI</li>
            <li>Pr. Abdelmoumen KAABAL</li>
            <li>Pr. Younes FARHAN</li>
          </ul>
        </div>

        <div class="glass p-4">
          <h4 class="font-semibold">Comité d’organisation</h4>
          <ul class="mt-2 text-slate-700 list-disc list-inside space-y-1">
            <li>Pr. Zakaria CHALH (Président du comité)</li>
            <li>Pr. Nabil EL AKCHIOUI</li>
            <li>Pr. Mohamed BENDAOUD</li>
            <li>Pr. El Mehdi MELLOULI</li>
            <li>Pr. Touria HAIDI</li>
            <li>Pr. Amine EL FATHI</li>
            <li>Pr. Abdelmoumen KAABAL</li>
            <li>Pr. Younes FARHAN</li>
          </ul>
          <p class="mt-3 text-slate-700"><strong>Doctorants & Jeunes enseignants du LISA</strong></p>
        </div>
      </div>
    </section>

    <!-- APPELS -->
    <section id="appel" class="fade-enter glass p-8" aria-labelledby="appel-title">
      <h2 id="appel-title" class="text-2xl font-bold text-slate-900">Appels</h2>
      <p class="mt-3 text-slate-700">Appel à soumissions de résumés pour l'exposition des posters. Date limite: à préciser.</p>
    </section>

    <!-- INFOS PRATIQUES -->
    <section id="infos" class="fade-enter glass p-8" aria-labelledby="infos-title">
      <h2 id="infos-title" class="text-2xl font-bold text-slate-900">Infos pratiques</h2>
      <p class="mt-3 text-slate-700">Lieu : ENSA Fès (salle principale). Contact organisation : lisa.contact@usmba.ac.ma</p>
    </section>

    <!-- INSCRIPTION -->
    <section id="inscription" class="fade-enter glass p-8" aria-labelledby="inscription-title">
      <h2 id="inscription-title" class="text-2xl font-bold text-slate-900">Inscription</h2>
      <p class="mt-3 text-slate-700">Pour vous inscrire, envoyez un mail à <strong>lisa.contact@usmba.ac.ma</strong> ou utilisez le formulaire (à ajouter si tu souhaites un formulaire web).</p>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="fade-enter glass p-8" aria-labelledby="contact-title">
      <h2 id="contact-title" class="text-2xl font-bold text-slate-900">Contact</h2>
      <p class="mt-3 text-slate-700">Organisation : Laboratoire LISA — ENSA Fès. Mail : <a href="mailto:lisa.contact@usmba.ac.ma" class="underline">lisa.contact@usmba.ac.ma</a></p>
    </section>
  </main>

  <!-- Footer -->
  <footer class="w-[min(1100px,92%)] mx-auto py-8 text-center text-sm text-slate-600">
    © <span id="year"></span> LISA – ENSA Fès · Contact : <a class="text-slate-800 underline" href="mailto:lisa.contact@usmba.ac.ma">lisa.contact@usmba.ac.ma</a>
  </footer>

  <!-- Poster Modal -->
  <div id="modal" class="fixed inset-0 hidden items-center justify-center z-60" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-backdrop absolute inset-0"></div>
    <div class="relative z-70 w-[min(900px,96%)] glass p-6 rounded-2xl shadow-xl">
      <button id="modal-close" class="absolute top-4 right-4 p-2 rounded-md glass" aria-label="Fermer">✕</button>
      <h3 id="modal-title" class="text-xl font-bold text-slate-900"></h3>
      <p id="modal-author" class="text-sm text-slate-700 mt-1"></p>
      <hr class="my-4" />
      <div id="modal-abstract" class="text-slate-700"></div>
    </div>
  </div>

  <script>
    // set year
    document.getElementById('year').textContent = new Date().getFullYear();

    // NAV interactions
    const desktopNav = document.getElementById('main-nav');
    const desktopBtns = [...desktopNav.querySelectorAll('.nav-item')];
    const navUnderline = document.getElementById('nav-underline');
    const sections = ['about','hommage','programme','posters','intervenants','comites','appel','infos','inscription','contact'];

    function setActiveNav(targetName){
      const btn = desktopBtns.find(b => b.dataset.target === targetName);
      if(btn){
        const rect = btn.getBoundingClientRect();
        const navRect = desktopNav.getBoundingClientRect();
        const left = rect.left - navRect.left;
        navUnderline.style.width = rect.width + 'px';
        navUnderline.style.transform = 'translateX(' + left + 'px)';
      } else {
        navUnderline.style.width = 0;
      }
    }

    function goToSection(name, smooth=true){
      const el = document.getElementById(name);
      if(!el) return;
      if(smooth) el.scrollIntoView({behavior:'smooth', block:'start'});
      setActiveNav(name);
      // close mobile panel if open
      document.getElementById('mobile-panel').classList.add('hidden');
    }

    // desktop nav clicks
    desktopBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        goToSection(btn.dataset.target);
      });
    });

    // mobile nav buttons
    document.querySelectorAll('.nav-item-mobile').forEach(btn => {
      btn.addEventListener('click', () => goToSection(btn.dataset.target));
    });

    // hero quick buttons (data-target)
    document.querySelectorAll('[data-target]').forEach(el => {
      // avoid overriding nav buttons already attached
      if(el.tagName === 'BUTTON' && el.closest('nav')) return;
      el.addEventListener('click', (e) => {
        const t = el.dataset.target;
        if(t) goToSection(t);
      });
    });

    // initial underline after load
    window.addEventListener('load', () => {
      setTimeout(()=> setActiveNav('about'), 300);
    });
    window.addEventListener('resize', () => { setActiveNav('about'); });

    // Mobile menu toggle
    const hamburger = document.getElementById('hamburger');
    const mobilePanel = document.getElementById('mobile-panel');
    hamburger.addEventListener('click', () => {
      mobilePanel.classList.toggle('hidden');
    });

    // Open posters button
    document.getElementById('open-posters').addEventListener('click', () => {
      goToSection('posters');
      // small nudge to show section top nicely
      window.scrollBy({top:-20, behavior:'smooth'});
    });

    // Poster modal logic (works for buttons and card clicks)
    const modal = document.getElementById('modal');
    const modalTitle = document.getElementById('modal-title');
    const modalAuthor = document.getElementById('modal-author');
    const modalAbstract = document.getElementById('modal-abstract');
    const modalClose = document.getElementById('modal-close');

    function openModal({title, author, abstract}){
      modalTitle.textContent = title || 'Poster';
      modalAuthor.textContent = author || '';
      modalAbstract.textContent = abstract || 'Résumé indisponible.';
      modal.classList.remove('hidden');
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
      // focus for accessibility
      modalClose.focus();
    }

    function closeModal(){
      modal.classList.add('hidden');
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
    }

    // buttons that explicitly open modal
    document.querySelectorAll('[data-action="open"]').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const article = btn.closest('article');
        const t = btn.dataset.title || article?.dataset.title;
        const a = btn.dataset.author || article?.dataset.author;
        const ab = btn.dataset.abstract || article?.dataset.abstract;
        openModal({title: t, author: a, abstract: ab});
      });
    });

    // clicking on the poster card opens modal too
    document.querySelectorAll('.poster-card').forEach(card => {
      card.addEventListener('click', (e) => {
        // avoid opening modal when clicking the "Partager" button etc.
        if(e.target.closest('button') && !e.target.closest('[data-action="open"]')) return;
        const title = card.dataset.title;
        const author = card.dataset.author;
        const abstract = card.dataset.abstract;
        openModal({title, author, abstract});
      });

      // keyboard activation (Enter / Space)
      card.addEventListener('keydown', e => {
        if(e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          const title = card.dataset.title;
          const author = card.dataset.author;
          const abstract = card.dataset.abstract;
          openModal({title, author, abstract});
        }
      });
    });

    modalClose.addEventListener('click', closeModal);
    modal.addEventListener('click', (e) => {
      // close when clicking the backdrop
      if(e.target === modal) closeModal();
    });

    // close modal on Escape
    window.addEventListener('keydown', (e) => {
      if(e.key === 'Escape' && !modal.classList.contains('hidden')) closeModal();
    });

    // floating particles
    (function createParticles(){
      const n = 28;
      const container = document.getElementById('particles');
      const h = window.innerHeight;
      for(let i=0;i<n;i++){
        const p = document.createElement('div');
        p.className = 'particle';
        const left = Math.random()*100;
        const top = Math.random()*100;
        p.style.left = left + 'vw';
        p.style.top = top + 'vh';
        p.style.opacity = (0.25 + Math.random()*0.85).toString();
        const size = 4 + Math.floor(Math.random()*10);
        p.style.width = size + 'px';
        p.style.height = size + 'px';
        container.appendChild(p);

        const dur = 8 + Math.random()*14;
        const amplitudeX = 10 + Math.random()*60;
        const amplitudeY = 30 + Math.random()*140;
        let start = performance.now() - Math.random()*10000;
        function frame(t){
          const elapsed = (t - start)/1000;
          const x = Math.sin(elapsed / dur * Math.PI * 2) * amplitudeX;
          p.style.transform = `translate(${x}px, ${Math.sin(elapsed + i)*6}px)`;
          requestAnimationFrame(frame);
        }
        requestAnimationFrame(frame);
      }
    })();

    // highlight nav on scroll: find section nearest top
    window.addEventListener('scroll', () => {
      const offsets = sections.map(name => {
        const el = document.getElementById(name);
        if(!el) return {name, offset: Infinity};
        return {name, offset: Math.abs(el.getBoundingClientRect().top - 120)};
      }).sort((a,b)=>a.offset-b.offset);
      if(offsets[0]) setActiveNav(offsets[0].name);
    });

    // reveal sections on scroll
    const revealObserver = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if(e.isIntersecting) e.target.classList.add('show');
      });
    }, {threshold:0.12});

    document.querySelectorAll('section').forEach(s => {
      s.classList.add('fade-enter');
      revealObserver.observe(s);
    });
  </script>
</body>
</html>
